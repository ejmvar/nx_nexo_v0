# ============================================================================
# Grafana Configuration for NEXO CRM Observability
# ============================================================================
# This is a minimal configuration file for Grafana.
# Most settings are configured via environment variables in docker-compose.
# Reference: https://grafana.com/docs/grafana/latest/setup-grafana/configure-grafana/
# ============================================================================

[paths]
# Path where Grafana stores its data (logs, sessions, etc.)
data = /var/lib/grafana
# Path where Grafana stores temporary files
temp_data_path = /var/lib/grafana/tmp
# Path where Grafana stores log files
logs = /var/lib/grafana/logs
# Path where Grafana looks for plugins
plugins = /var/lib/grafana/plugins
# Path where Grafana looks for provisioning config files
provisioning = /etc/grafana/provisioning

[server]
# Protocol (http, https, h2, socket)
protocol = http
# The http port to use
http_port = 3000
# The public facing domain name used to access grafana from a browser
domain = localhost
# Redirect to correct domain if host header does not match domain
enforce_domain = false
# The full public facing url
root_url = %(protocol)s://%(domain)s:3000/
# Serve Grafana from subpath specified in root_url setting
serve_from_sub_path = false

[database]
# Database type (sqlite3, mysql, postgres)
type = sqlite3
# Database connection (only for mysql, postgres)
# host = 127.0.0.1:3306
# name = grafana
# user = root
# password =

[security]
# Set to true to disable the use of Gravatar for user profile images
disable_gravatar = false
# Set to true to disable the use of the Grafana API
# disable_initial_admin_creation = false
# Set to true to disable the use of sanitize html
# disable_sanitize_html = false

[users]
# Set to false to prevent users from being able to sign up / create accounts
allow_sign_up = false
# Set to false to prevent users from being able to create new organizations
allow_org_create = false
# Set to false to prevent users from seeing other organization's dashboards
viewers_can_edit = false
# Editors can admin (create/delete/edit) datasources, dashboards, and teams
editors_can_admin = false

[auth]
# Set to true to disable login form
disable_login_form = false
# Set to true to disable signout menu
disable_signout_menu = false

[auth.anonymous]
# Enable anonymous access
enabled = false

[auth.basic]
# Enable basic authentication (username/password)
enabled = true

[log]
# Either "console", "file", "syslog". Default is console and file
mode = console
# Either "debug", "info", "warn", "error", "critical", default is "info"
level = info

[metrics]
# Enable internal Grafana metrics (for monitoring Grafana itself)
enabled = true
# Send internal Grafana metrics to Graphite
;graphite_address =
;graphite_prefix = prod.grafana.%(instance_name)s.

[analytics]
# Send anonymized usage statistics to Grafana Labs
reporting_enabled = false
# If enabled, will send reports every 24 hours
check_for_updates = true

[panels]
# Enable or disable panel features
enable_alpha = false
disable_sanitize_html = false

[plugins]
# Enable or disable plugins
enable_alpha = false
# Allow unsigned plugins
allow_loading_unsigned_plugins = false

[alerting]
# Enable alerting engine (Grafana 8.0+)
enabled = true
# Default timeout for alert rule evaluation
execute_alerts = true

[explore]
# Enable the Explore section
enabled = true

[feature_toggles]
# Enable feature toggles (experimental features)
# enable = feature1,feature2

# ============================================================================
# Configuration Notes
# ============================================================================
# 1. Most settings are overridden by environment variables in docker-compose:
#    - GF_SECURITY_ADMIN_USER
#    - GF_SECURITY_ADMIN_PASSWORD
#    - GF_SERVER_ROOT_URL
#    - GF_USERS_ALLOW_SIGN_UP
#
# 2. Environment variables take precedence over this file
#    Format: GF_<SectionName>_<KeyName>
#    Example: GF_SERVER_HTTP_PORT=3000
#
# 3. For production, consider:
#    - Using PostgreSQL database instead of SQLite
#    - Enabling HTTPS (protocol = https, cert_file, cert_key)
#    - Configuring OAuth (auth.github, auth.google, auth.generic_oauth)
#    - Setting up email notifications (smtp)
#    - Enabling external image storage (external_image_storage)
#
# 4. Datasource and dashboard provisioning:
#    Configured via files in /etc/grafana/provisioning/
#    See: observability/grafana/provisioning/
#
# ============================================================================
