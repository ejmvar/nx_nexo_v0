# ==============================================================================
# DEV Environment Configuration
# ==============================================================================
# This file is for LOCAL DEVELOPMENT in Docker containers (ports 4xxx).
# Copy this file to .env.dev and adjust values as needed.
#
# NOTE: These are DEVELOPMENT defaults. Security is relaxed for ease of use.
# ==============================================================================

# ----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# ----------------------------------------------------------------------------
POSTGRES_DB=nexo_dev
POSTGRES_USER=nexo_user
POSTGRES_PASSWORD=nexo_dev_password  # Development password (OK for local)

# PostgreSQL Connection URL (used by backend services)
DATABASE_URL=postgresql://nexo_user:nexo_dev_password@nexo-postgres-dev:5432/nexo_dev

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
REDIS_HOST=nexo-redis-dev
REDIS_PORT=6379
REDIS_PASSWORD=  # No password for DEV (optional)

# ----------------------------------------------------------------------------
# JWT Configuration
# ----------------------------------------------------------------------------
JWT_SECRET=dev-jwt-secret-change-in-production  # Development secret
JWT_EXPIRES_IN=1h    # Access token expiry
JWT_REFRESH_EXPIRES_IN=7d  # Refresh token expiry

# ----------------------------------------------------------------------------
# Service URLs (Internal Docker Network)
# ----------------------------------------------------------------------------
AUTH_SERVICE_URL=http://nexo-auth-service-dev:3001
CRM_SERVICE_URL=http://nexo-crm-service-dev:3003
API_GATEWAY_URL=http://nexo-api-gateway-dev:3002

# Frontend Public API URL (External Access)
NEXT_PUBLIC_API_URL=http://localhost:4002

# ----------------------------------------------------------------------------
# Environment Settings
# ----------------------------------------------------------------------------
NODE_ENV=development  # Development mode
LOG_LEVEL=debug       # Verbose logging for debugging

# ----------------------------------------------------------------------------
# Monitoring & Debugging
# ----------------------------------------------------------------------------
ENABLE_METRICS=false   # No metrics in DEV (performance)
ENABLE_TRACING=false   # No tracing in DEV
SENTRY_DSN=            # No Sentry in DEV

# Enable source maps for debugging
GENERATE_SOURCEMAP=true

# ----------------------------------------------------------------------------
# File Storage Configuration
# ----------------------------------------------------------------------------
FILE_STORAGE_TYPE=local
FILE_STORAGE_NAME=nexo-dev-storage
FILE_STORAGE_BASE_PATH=/app/media
FILE_STORAGE_ID=
FILE_STORAGE_DESC={}

# ----------------------------------------------------------------------------
# Rate Limiting (Optional)
# ----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=false   # No rate limiting in DEV
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=60000

# ----------------------------------------------------------------------------
# CORS Configuration
# ----------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:4000,http://localhost:3000
CORS_CREDENTIALS=true

# ----------------------------------------------------------------------------
# Additional Development Settings
# ----------------------------------------------------------------------------
# Hot reload, etc.
CHOKIDAR_USEPOLLING=true
WATCHPACK_POLLING=true
